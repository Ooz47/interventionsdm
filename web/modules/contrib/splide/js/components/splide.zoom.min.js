!function(T,k,E,M,S){"use strict";var W="spz";k.extend({xZoom:function(n,o){var i,s=n.root,a=n.options.zoom||{},c=a.max||1.5,e=a.min||1,t=a.on||!1,d=a.scale||!1,l=a.click||!1,h=a.root||!1,u="is-"+(a.nickClass||"sbox"),r=u+"-zoomed",m=u+"-zoom",f=a.target||".slide__media",g="no-touchevents",v=!1,C="is-zoomable",w="."+C,x={x:0,y:0},y=null,z=c;function p(t){n.options={drag:t}}function Z(t,o,n,i){i=Math.min(n/t,i/o);return{width:t*i,height:o*i,ratio:i}}function I(t,o){T.addClass(t,u+"-"+o),E.clearTimeout(i),i=setTimeout(function(){i=null,T.removeClass(t,u+"-"+o)},250)}function b(t){var o=t;return T.is(t,"img")&&(o=T.closest(t,f)||t.parentNode),o}function O(t,o,n,i){b(t).style.transform=(i=i,n="translate3d("+o+"px, "+((n=n)||0)+"px, 0)",T.isUnd(i)||(n+=" scale3d("+i+", "+i+", 1)"),n)}return{items:[],data:{},canZoom:!0,isZoomed:function(){return t&&T.hasClass(this.root(),r)},toggleClass:function(t,o,n){var i=this.root();i&&(n?t?T.addClass(i,o||r):setTimeout(function(){T.removeClass(i,o||r)},n):T[t?"addClass":"removeClass"](i,o||r))},on:function(){this.canZoom=!0},off:function(){this.canZoom=!1},fit:function(s,e){var t,o=T.closest(s,".slide"),n=e.window,i=n.height,a=n.width,l=e.nw=s.naturalWidth,c=e.nh=s.naturalHeight,d=e.ah=T.toInt(T.attr(s,"height"),0),h=e.xl=c>=n.height,u=e.fit=d<i,n=e.sm=c<i&&l<a;e.src=s.src,e.aw=T.toInt(T.attr(s,"width"),0),a=Z(l,c,a-(d=T.matchMedia("1700px","min")?210:T.matchMedia("1400px","min")?180:120),i-d),i=e.cw=T.toInt(a.width,0),d=e.ch=T.toInt(a.height,0),e.ratio=a.ratio,e.lg=i<l&&d<c,h?t="xl":u?t="fit":n&&(t="sm"),(e.size=t)&&T.addClass(o,"is-slide-"+t),e.id||(t=Math.random().toString(16).slice(2),e.id=t,s.dataset.sId=t,this.data[t]=e),setTimeout(function(){var t,o,n,i;o=e,(t=s)&&o&&(n=(i=o.fit)?o.aw:o.cw,i=i?o.ah:o.ch,o=T.closest(t,"picture"),T.isElm(o)&&(o.style.width=n+"px",o.style.height=i+"px"),t=b(t),t=T.closest(t,".slide"),T.addClass(t,C+"-slide"))})},onMounted:function(){var s=this,n=[],i=[],t=o.Elements.slides;t.length||(t=o.Elements.list.children),T.each(t,function(t){var o=T.find(t,f);T.isElm(o)&&((t=T.find(o,w))&&i.push(t),n.push(o))}),s.items=n;i.length&&(T.resize(function(t,o,n){var i;o&&(o.window=o.window||T.windowSize(),i=n.target,T.decode(i).then(function(){s.fit(i,o)}).catch(function(){s.fit(i,o)}))},i)(),s.dragon())},onActive:function(t){(y=T.find(t.slide,w))&&this.on()},onWheel:function(t,o){t=t.target;T.hasClass(S,g)&&(this.isZoomed()?(z=o.scale,O(t,o.x,o.y,z||c)):(this.canZoom="down"===o.dir,this.zoomon(t,!0)))},mount:function(){var o=this;t&&(n.on("mounted."+W,function(){setTimeout(function(){o.onMounted()},300)}),n.on("active."+W,o.onActive.bind(o)),n.on("move."+W,function(){o.toggleClass(!1)}),n.on("inactive."+W,function(t){t=T.find(t.slide,w);T.isElm(t)&&o.zoomOut(t)}))},root:function(){var t;return h&&(t=T.find(M,h)),t||s},zoomIn:function(t){var o=this;if(!(t&&t.dataset))return!1;var n=t.dataset.sId,i=o.data[n];if(!i)return!1;var s=i.window,e=i.nh,a=i.nw,l=i.fit,n=i.sm,i=i.lg;if((n||l||!d)&&(o.toggleClass(!1),!n||!i))return!1;o.toggleClass(!0);e=Z(a,e,(s.width>s.height?s.width:s.height)-80,e-80);t.style.width=e.width+"px",t.style.height=e.height+"px",I(o.root(),"zoomin"),setTimeout(function(){O(t,x.x,x.y,z||c),o.off(),p(!1)})},zoomOut:function(t){var o=this;t&&(b(t).style.transform="scale3d("+e+", "+e+", "+e+")",setTimeout(function(){t.style.width="",t.style.height=""},650),I(o.root(),"zoomout"),o.toggleClass(!1,r,100)),setTimeout(function(){o.on(),p(!0)})},zoomon:function(t,o){t=t||y;t=T.hasClass(t,C)?t:T.find(t,w);this.canZoom?this.zoomIn(t):(this.zoomOut(t),o&&O(t,"","",1))},onClick:function(t,o){t=t.target;T.hasClass(t,C)&&(x.x=o.x,x.y=o.y,y=t,v?(this.zoomOut(t),v=!1):k.doubletap()||this.zoomon(t))},onZoomIn:function(t,o){t=t.target;T.hasClass(t,C)&&(y=t,this.toggleClass(!0))},onZoomOut:function(t,o){t=t.target;T.hasClass(t,C)&&(y=t,this.zoomOut(t))},onPinched:function(t,o){v=!0},dragon:function(){var i,s,e=this,t=e.root(),o=a;o.onClick=!!l&&e.onClick.bind(e),o.onZoomIn=e.onZoomIn.bind(e),o.onZoomOut=e.onZoomOut.bind(e),o.onPinched=e.onPinched.bind(e),o.onWheel=e.onWheel.bind(e),o.callback=function(t,o){var n;i=o.el,s=o.phase,o.img=T.find(i,w),"start"===s?(n=o,x.x=n.x,x.y=n.y,(i=n.el).style.transition=""):"move"===s?function(t){x.x=t.x,x.y=t.y;var o=t.img,n=t.zoom,i=m+"in "+m+"out";e.toggleClass(!1,i),e.isZoomed()?n?e.toggleClass(!0,m+n):(e.toggleClass(!1,i,500),z=1===t.scale?z:t.scale,T.hasClass(S,g)&&O(o,x.x,x.y,z)):e.toggleClass(!1,i,500)}(o):"end"===s&&(o=o,x.x=o.x,x.y=o.y)},o.activatedClass=r;var n=e.items;n.length&&(o.elms=n,new SwipeDetect(t,o))}}}})}(dBlazy,dSplide,this,this.document,this.document.documentElement);
